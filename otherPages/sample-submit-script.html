<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/assets/images/dsfavicon.png"/>
  <script src="https://kit.fontawesome.com/2d67576fb3.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../template.css">
  <title>Sample Submit Scripts | DSDFCI</title>
</head>
<body>
  <header>
    <div class="banner">
      <h2 class="gradient-text">
        Data Science Computing
        <sub>at:</sub>
      </h2>
    </div>
    <section class="logo">
      <div class="logo-img">
        <img src="/assets/images/dslogo.png" alt="logo">
      </div>
      <div class="logo-img-mobile">
        <img src="/assets/images/dslogo-sm.png" alt="logo">
        <img src="/assets/images/dslogo-sm1.png" alt="logo">
      </div>
    </section>
    <section class="navbar">
      <nav>
        <li class="nav-item active-link">
          <a href="#" class="nav-link">
            <i class="fas fa-angle-right"></i>
            Top
          </a>
        </li>
        <li class="nav-item">
          <a href="/" class="nav-link">
            <i class="fa fa-home" aria-hidden="true"></i>
            Home
          </a>
        </li>
        <li class="nav-item">
          <a href="https://ds.dfci.harvard.edu/" class="nav-link">Data Science Website</a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link">Contact</a>
        </li>
      </nav>
      <ul class="social">
        <li class="social-item">
          <a href="mailto: systems@ds.dfci.harvard.edu">
            <i class="fas fa-envelope"></i>
          </a>
        </li>
        <li class="social-item">
          <a href="#">
            <i class="fab fa-twitter-square"></i>
          </a>
        </li>
      </ul>
    </section>
  </header>
  <main>
    <section class="search-area">
      <h2>Search by keyword</h2>
      <form>
        <input 
          type="text" 
          id="search" 
          placeholder="Search..." 
          title="Enter keyword"
        >
        <ul class="searchList">
          <button type="button" class="close-search">x</button>
          <li class="search-item">
            <a href="/otherPages/mail-setting.html">DS Mail Settings</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/partner-email-setting.html">Partners Email Settings</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/mobile-partners-email.html">Partners Email on Mobile Device(iPhone)</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/out-of-office-notification.html">Out-of-Office Notification</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/email-signature.html">Email Signature</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/email-aliases.html">Email Aliases</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/web-service.html">Web Service</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/vpn-&-go-to-mypc.html">VPN and GoToMyPC</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/mac-wifi-setting.html">Mac WiFi Settings</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/windows-wifi-setting.html">PC(Windows) WiFi Settings</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/printing.html">Printing</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/scanning.html">Scanning</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/macintosh-software.html">Macintosh Software</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/windows-software.html">Windows Software</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/laptop-encryption.html">Laptop Encryption</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/how-to-map-a-folder.html">How to Map a Folder</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/how-to-configure-putty.html">How to Configure Putty</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/window-remote-desktop-connection.html">Windows Remote Desktop Connection</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/mac-remote-desktop-connection.html">Mac Remote Desktop Connection</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/dropbox-for-business.html">Dropbox for Business</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/slack.html">Slack</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/datasets.html">Datasets</a>
          </li>
          <li>
            <ul>
              <li class="search-item">
                <a href="/otherPages/getting-started.html">Getting Started</a>
              </li>
              <li class="search-item">
                <a href="/otherPages/job-submission.html">Job Submission</a>
              </li>
              <li class="search-item">
                <a href="/otherPages/sample-submit-script.html">Sample Submit Scripts</a>
              </li>
              <li class="search-item">
                <a href="/otherPages/kraken-software-&-modules.html">Kraken Software and Modules</a>
              </li>
              <li class="search-item">
                <a href="/otherPages/monitor-jobs.html">Monitor Jobs</a>
              </li>
              <li class="search-item">
                <a href="/otherPages/cancel-&-pause-jobs.html">Cancel and Pause Jobs</a>
              </li>
              <li class="search-item">
                <a href="/otherPages/storage-&-file-management.html">Storage & File Management</a>
              </li>
            </ul>
          </li>
          <li class="search-item">
            <a href="/otherPages/unix-servers.html">Unix Servers</a>
          </li>
          <li class="search-item">
            <a href="/otherPages/unix-software.html">Unix Software</a>
          </li>
        </ul>
        <p class="no-record">No matching records found</p>
      </form>
    </section>
    <section class="dsmail-section">
      <div class="heading">
        <h1 class="dsmail-heading">Sample Submit Scripts</h1>
      </div>
      <h2>
        HELPFUL LINKS
        <i class="fas fa-angle-right"></i>
      </h2>
      <nav class="template-nav">
        <li class="item">
          <a 
            href="https://ds.dfci.harvard.edu/" 
            class="item-link"
            target="_blank"
          >
            Department Site
          </a>
        </li>
        <li class="item">
          <a 
            href="http://www.healthstream.com/hlc/partners" 
            class="item-link"
            target="_blank"
          >
            myTalent
          </a>
        </li>
        <li class="item">
          <a 
            href="https://www.partners.org/email" 
            class="item-link"
            target="_blank"
          >
            Partners Email
          </a>
        </li>
        <li class="item">
          <a 
            href="https://myprofile.partners.org/" 
            class="item-link"
            target="_blank"
          >
            Partners Password Reset
          </a>
        </li>
        <li class="item">
          <a 
            href="/otherPages/peas-enrollment.html" 
            class="item-link"
            target="_blank"
          >
            PEAS Enrollment Required for all Apple Macintosh Computers
          </a>
        </li>
        <li class="item">
          <a 
            href="http://peoplesofthr.dfci.harvard.edu/hrprod/signon.html" 
            class="item-link"
            target="_blank"
          >
            PeopleSoft
          </a>
        </li>
        <li class="item">
          <a 
            href="https://bcb-dfci.slack.com/signup" 
            class="item-link"
            target="_blank"
          >
            Slack Signup
          </a>
        </li>
      </nav>
      <div class="article-body job">
        <h3>Simple Submit Script</h3>
        <p class="code">
          <code>
            #!/bin/bash
            <br />
            #SBATCH --job-name=myJob # job name - can use -J jobname for short
            <br />
            <br />
            #SBATCH --error=/fullpathtoerrorfile  # error file
            <br />
            #SBATCH --output=/fullpathtooutfile  # output file
            <br />
            /bin/hostname 
          </code>
        </p>
        <p>
          Type sbatch scriptname to submit this script
        </p>
        <h3>
          Simple Submit Script with More Options
        </h3>
        <p class="code">
          <code>
            #!/bin/bash
            <br />
            #SBATCH --job-name=myJob 
            <br />
            #SBATCH --mem=2G        # total memory need
            <br />
            #SBATCH --time=5:00:00 # DD-HH:MM:SS max walltime(time limit) requested - can use -t 5:00:00 for short
            <br />
            #SBATCH --error=/fullpathtoerrorfile      # error file
            <br />
            #SBATCH --output=/fullpathtooutfile      # output file
            <br />
            #SBATCH --mail-type=END,FAIL # email notification when job ends/fails
            <br />
            #SBATCH --mail-user=username@jimmy.harvard.edu # email to notify
            <br />
            <br />
            module purge # clear loaded modules
            <br />
            module load gcc/7.2.0 # load a module
            <br />
            RUNDIR=/fullpathtorundir # set a variable
            <br />
            cd $RUNDIR
            <br />
            /fullpathtocommand 
          </code>
        </p>
        <h3>
          Array Submit Script
        </h3>
        <p class="code">
          <code>
            #!/bin/bash
            <br />
            #SBATCH --job-name=myJob
            <br />
            #SBATCH --array=1-16
            <br />
            #SBATCH --time=02:00:00
            <br />
            #SBATCH --ntasks=1
            <br />
            #SBATCH --mem=2G
            <br />
            #SBATCH --error=/fullpathtoerrorfile
            <br />
            #SBATCH --output=/fullpathtooutfile
            <br />
            <br />
            cd /tofolder
            <br />
            /fullpathtocommand $SLURM_ARRAY_TASK_ID
          </code>
        </p>
        <h3>
          Threaded or Multi-Processor Script – to run on 1 node with multiple cores per task
        </h3>
        <p class="code">
          <code>
            #!/bin/bash
            <br />
            #SBATCH --job-name=myJob
            <br />
            #SBATCH --time=02:00:00
            <br />
            #SBATCH --mem=2G
            <br />
            #SBATCH --ntasks=1
            <br />
            #SBATCH --cpus-per-task=2            		# number of cores per task - can use -c 1 for short - default is 1
            <br />
            #SBATCH --ntasks-per-node=1			# number of tasks per node - can use -n 1 for short - default is 1
            <br />
            #SBATCH --error=/fullpathtoerrorfile
            <br />
            #SBATCH --output=/fullpathtooutfile
            <br />
            <br />
            /fullpathtocommand 
          </code>
        </p>
        <h3>
          MPI Script – to run on multiple nodes with one cpu per task
        </h3>
        <p class="code">
          <code>
            #!/bin/bash
            <br />
            #SBATCH --job-name=myJob
            <br />
            #SBATCH --ntasks=8                 
            <br />
            #SBATCH --cpus-per-task=4            # number of cores per task - can use -c 1 for short - default is 1
            <br />
            #SBATCH --nodes=2                    
            <br />
            #SBATCH --ntasks-per-node=4         
            <br />
            #SBATCH --ntasks-per-socket=2        
            <br />
            #SBATCH --time=02:00:00                   
            <br />
            #SBATCH --mem-per-cpu=600MB                         
            <br />
            #SBATCH --error=/fullpathtoerrorfile        
            <br />
            #SBATCH --output=/fullpathtooutfile 
            <br />
            <br />
            /fullpathtocommand
            <br />
            <br />
            24 tasks with 1 core per task to be divided up between 2 nodes
            <br />
            12 tasks will run on each of the 12 nodes
            <br />
            6 tasks will run on each of the 2 sockets on each node
          </code>
        </p>
        <h3>
          MPI and Threaded Script – to run on multiple nodes with more than one cpu per task
        </h3>
        <p class="code">
          <code>
            #!/bin/bash
            <br />
            #SBATCH --job-name=myJob
            <br />
            #SBATCH --ntasks=8                 
            <br />
            #SBATCH --cpus-per-task=4            # number of cores per task - can use -c 1 for short - default is 1
            <br />
            #SBATCH --nodes=2                    
            <br />
            #SBATCH --ntasks-per-node=4         
            <br />          <br />
            #SBATCH --ntasks-per-socket=2        
            <br />
            #SBATCH --time=02:00:00                   
            <br />
            #SBATCH --mem-per-cpu=600MB                         
            <br />
            #SBATCH --error=/fullpathtoerrorfile        
            <br />
            #SBATCH --output=/fullpathtooutfile  
            <br />
            <br />
            /fullpathtocommand
          </code>
        </p>
        <p class="code">
          <code>
            8 tasks with 4 cores per task to be divided up between 2 nodes   
            <br />
            4 tasks with 16 cores total to run on each node 
            <br />
            2 tasks to run on each socket  (2 sockets per node)
          </code>
        </p>
        <!-- If you dont have a footer for your article, Remove the following section -->
        <footer>
          <div>
            Last Update on June 24, 2021
          </div>
        </footer>
      </div>
    </section>
  </main>
  <script src="../template.js"></script>
</body>
</html>